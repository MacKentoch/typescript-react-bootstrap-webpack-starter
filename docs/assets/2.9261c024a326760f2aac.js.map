{"version":3,"sources":["webpack:///./src/front/hoc/withEnterAnimation/index.ts","webpack:///./src/front/hoc/withEnterAnimation/styled/AnimatedDiv.tsx","webpack:///./src/front/hoc/withEnterAnimation/withEnterAnimation.tsx","webpack:///./src/front/pages/login/Login.tsx","webpack:///./src/front/pages/login/index.ts","webpack:///./src/front/services/API/fetchTools.ts"],"names":[],"mappings":"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","file":"2.9261c024a326760f2aac.js","sourcesContent":["\n\nimport withEnterAnimation from './withEnterAnimation';\n\nexport default withEnterAnimation;\n","// @region imports\nimport styled, { keyframes, css } from 'styled-components';\n// #endregion\n\ninterface Props {\n  viewEnter: boolean;\n}\n\nconst fadeIn = keyframes`\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n    transform: none;\n  }\n`;\n\nconst AnimatedDiv = styled.div`\n  ${({ viewEnter }: {} & Props) =>\n    viewEnter &&\n    css`\n      opacity: 0;\n      animation-name: ${fadeIn};\n      animation-timing-function: ease-in;\n      animation-duration: 0.7s;\n      animation-delay: 0s;\n      animation-fill-mode: both;\n    `};\n`;\n\nexport default AnimatedDiv;\n","// #region imports\nimport React from 'react';\nimport AnimatedDiv from './styled/AnimatedDiv';\nimport { getDisplayName } from '../utils/index';\n// #endregion\n\n// #region flow types\ntype Props = any;\n\ntype State = any;\n// #endregion\n\nfunction withEnterAnimation() {\n  return (BaseComponent: any) => {\n    class WithEnterAnimation extends React.Component<Props, State> {\n      static displayName = `withEnterAnimation${getDisplayName(BaseComponent)}`;\n\n      render() {\n        const { ...passProps } = this.props;\n\n        return (\n          <AnimatedDiv viewEnter>\n            <BaseComponent {...passProps} />\n          </AnimatedDiv>\n        );\n      }\n    }\n\n    // /* eslint-disable no-process-env */\n    // if (process.env.NODE_ENV !== 'production') {\n    //   // HOC would obfuscate component name, this trick is helpful for dev (we don't care in production)\n    //   WithEnterAnimation.displayName = wrapDisplayName(\n    //     BaseComponent,\n    //     'withEnterAnimation',\n    //   );\n    // }\n    // /* eslint-enable no-process-env */\n\n    return WithEnterAnimation;\n  };\n}\n\nexport default withEnterAnimation;\n","// #region imports\nimport React from 'react';\nimport axios from 'axios';\nimport { RouteComponentProps } from 'react-router';\nimport Button from 'reactstrap/lib/Button';\nimport Row from 'reactstrap/lib/Row';\nimport Col from 'reactstrap/lib/Col';\nimport { appConfig } from '../../config/appConfig';\nimport { getLocationOrigin } from '../../services/API/fetchTools';\nimport userInfoMock from '../../mock/userInfo.json';\nimport { AuthContextProps } from '../../contexts/auth/consumerHOC';\n// #endregion\n\n// #region flow types\ntype Props = any & RouteComponentProps<any> & AuthContextProps;\n\ntype State = {\n  email: string;\n  password: string;\n  isLogging: boolean;\n};\n// #endregion\n\nclass Login extends React.PureComponent<Props, State> {\n  state = {\n    email: '',\n    password: '',\n    isLogging: false,\n  };\n\n  // #region lifecycle\n  componentDidMount() {\n    this.disconnectUser(); // diconnect user: remove token and user info\n  }\n\n  render() {\n    const { email, password, isLogging } = this.state;\n\n    return (\n      <div className=\"content\">\n        <Row>\n          <Col md={{ size: 4, offset: 4 }} xs={{ size: 10, offset: 1 }}>\n            <form className=\"form-horizontal\" noValidate>\n              <fieldset>\n                <legend>Login</legend>\n\n                <div className=\"form-group\">\n                  <label\n                    htmlFor=\"inputEmail\"\n                    className=\"col-lg-2 control-label\"\n                  >\n                    Email\n                  </label>\n                  <Col lg={12}>\n                    <input\n                      type=\"text\"\n                      className=\"form-control\"\n                      id=\"inputEmail\"\n                      placeholder=\"Email\"\n                      autoComplete=\"username email\"\n                      value={email}\n                      onChange={this.handlesOnEmailChange}\n                    />\n                  </Col>\n                </div>\n\n                <div className=\"form-group\">\n                  <label\n                    htmlFor=\"inputPassword\"\n                    className=\"col-lg-2 control-label\"\n                  >\n                    Password\n                  </label>\n                  <Col lg={12}>\n                    <input\n                      type=\"password\"\n                      className=\"form-control\"\n                      id=\"inputPassword\"\n                      placeholder=\"Password\"\n                      autoComplete=\"current-password\"\n                      value={password}\n                      onChange={this.handlesOnPasswordChange}\n                    />\n                  </Col>\n                </div>\n\n                <div className=\"form-group\">\n                  <Col lg={{ size: 12 }}>\n                    <Button\n                      className=\"login-button btn-block\"\n                      color=\"primary\"\n                      disabled={isLogging}\n                      onClick={this.handlesOnLogin}\n                    >\n                      {isLogging ? (\n                        <span>\n                          login in... &nbsp;\n                          <i className=\"fa fa-spinner fa-pulse fa-fw\" />\n                        </span>\n                      ) : (\n                        <span>Login</span>\n                      )}\n                    </Button>\n                  </Col>\n                </div>\n              </fieldset>\n            </form>\n          </Col>\n        </Row>\n        <Row>\n          <Col md={{ size: 4, offset: 4 }} xs={{ size: 10, offset: 1 }}>\n            <div className=\"pull-right\">\n              <Button className=\"btn-block\" onClick={this.goHome}>\n                back to home\n              </Button>\n            </div>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n  // #endregion\n\n  disconnectUser = () => {\n    const { disconnectUser } = this.props;\n    disconnectUser();\n  };\n\n  handlesOnEmailChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    event.preventDefault();\n    // should add some validator before setState in real use cases\n    this.setState({ email: event.target.value.trim() });\n  };\n\n  handlesOnPasswordChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    event.preventDefault();\n    // should add some validator before setState in real use cases\n    this.setState({ password: event.target.value.trim() });\n  };\n\n  handlesOnLogin = async (event: React.MouseEvent<HTMLInputElement>) => {\n    if (event) {\n      event.preventDefault();\n    }\n\n    const { history, setToken, setUserInfo } = this.props;\n    const { email: login, password } = this.state;\n\n    try {\n      this.setState({ isLogging: true });\n      const response = await this.logUser(login, password);\n      const {\n        data: { token, user },\n      } = response;\n\n      setToken(token);\n      setUserInfo(user);\n\n      this.setState({ isLogging: false });\n\n      history.push({ pathname: '/' }); // back to Home\n    } catch (error) {\n      this.setState({ isLogging: false });\n      /* eslint-disable no-console */\n      console.log('login went wrong..., error: ', error);\n      /* eslint-enable no-console */\n    }\n  };\n\n  logUser = async (login: string = '', password: string = ''): Promise<any> => {\n    const __SOME_LOGIN_API__ = 'login';\n    const url = `${getLocationOrigin()}/${__SOME_LOGIN_API__}`;\n    const method = 'post';\n    const headers = {};\n    const options = {\n      credentials: 'same-origin',\n      data: {\n        login,\n        password,\n      },\n    };\n\n    if (appConfig.DEV_MODE) {\n      return new Promise(resolve =>\n        setTimeout(() => resolve({ data: userInfoMock }), 3000),\n      );\n    }\n\n    try {\n      const response = await axios.request({\n        method,\n        url,\n        withCredentials: true,\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json',\n          'Acces-Control-Allow-Origin': '*',\n          ...headers,\n        },\n        ...options,\n      });\n\n      return Promise.resolve(response);\n    } catch (error) {\n      return Promise.reject(error);\n    }\n  };\n\n  goHome = (event: any) => {\n    if (event) {\n      event.preventDefault();\n    }\n    const { history } = this.props;\n    history.push({ pathname: '/' });\n  };\n}\n\nexport default Login;\n","// #region imports\nimport { compose } from 'redux';\nimport Login from './Login';\nimport withEnterAnimation from '../../hoc/withEnterAnimation';\nimport withAuth from '../../contexts/auth/consumerHOC';\n// #endregion\n\nexport default compose(\n  withEnterAnimation(/* no option yet */),\n  withAuth(),\n)(Login);\n","// #region imports\nimport { Base64 } from 'js-base64';\n// #endregion\n\n// #region  window.location.origin polyfill\nexport const getLocationOrigin = (): string => {\n  if (!window.location.origin) {\n    (window as any).location.origin = `${window.location.protocol}//${\n      window.location.hostname\n    }${window.location.port ? ':' + window.location.port : ''}`;\n  }\n  return window.location.origin;\n};\n// #endregion\n\n// #region query options:\nexport const getMethod = {\n  method: 'get',\n};\n\nexport const postMethod = {\n  method: 'post',\n};\n\nexport const defaultOptions = {\n  credentials: 'same-origin',\n};\n\nexport const jsonHeader = {\n  headers: {\n    Accept: 'application/json',\n    'Content-Type': 'application/json',\n    // 'Access-control-Allow-Origin': '*'\n  },\n};\n// #endregion\n\n// #region general helpers\nexport const encodeBase64 = (stringToEncode: string = ''): string => {\n  return Base64.encode(stringToEncode);\n};\n// #endregion\n"],"sourceRoot":""}