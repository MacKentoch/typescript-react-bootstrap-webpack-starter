{"version":3,"sources":["webpack:///./src/front/hoc/withEnterAnimation/index.ts","webpack:///./src/front/hoc/withEnterAnimation/styled/AnimatedDiv.tsx","webpack:///./src/front/hoc/withEnterAnimation/withEnterAnimation.tsx","webpack:///./src/front/pages/login/Login.tsx","webpack:///./src/front/pages/login/index.ts","webpack:///./src/front/services/API/fetchTools.ts"],"names":[],"mappings":"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","file":"2.7219833b8f47403ac477.js","sourcesContent":["\n\nimport withEnterAnimation from './withEnterAnimation';\n\nexport default withEnterAnimation;\n","// @region imports\nimport styled, { keyframes, css } from 'styled-components';\n// #endregion\n\ninterface Props {\n  viewEnter: boolean;\n}\n\nconst fadeIn = keyframes`\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n    transform: none;\n  }\n`;\n\nconst AnimatedDiv = styled.div`\n  ${({ viewEnter }: {} & Props) =>\n    viewEnter &&\n    css`\n      opacity: 0;\n      animation-name: ${fadeIn};\n      animation-timing-function: ease-in;\n      animation-duration: 0.7s;\n      animation-delay: 0s;\n      animation-fill-mode: both;\n    `};\n`;\n\nexport default AnimatedDiv;\n","// #region imports\nimport React from 'react';\nimport AnimatedDiv from './styled/AnimatedDiv';\nimport { getDisplayName } from '../utils/index';\n// #endregion\n\n// #region flow types\ntype Props = any;\n\ntype State = any;\n// #endregion\n\nfunction withEnterAnimation() {\n  return (BaseComponent: any) => {\n    class WithEnterAnimation extends React.Component<Props, State> {\n      static displayName = `withEnterAnimation${getDisplayName(BaseComponent)}`;\n\n      render() {\n        const { ...passProps } = this.props;\n\n        return (\n          <AnimatedDiv viewEnter>\n            <BaseComponent {...passProps} />\n          </AnimatedDiv>\n        );\n      }\n    }\n\n    // /* eslint-disable no-process-env */\n    // if (process.env.NODE_ENV !== 'production') {\n    //   // HOC would obfuscate component name, this trick is helpful for dev (we don't care in production)\n    //   WithEnterAnimation.displayName = wrapDisplayName(\n    //     BaseComponent,\n    //     'withEnterAnimation',\n    //   );\n    // }\n    // /* eslint-enable no-process-env */\n\n    return WithEnterAnimation;\n  };\n}\n\nexport default withEnterAnimation;\n","import React, { useState, useEffect, useCallback } from 'react';\nimport axios from 'axios';\nimport { RouteComponentProps } from 'react-router';\nimport Button from 'reactstrap/lib/Button';\nimport Row from 'reactstrap/lib/Row';\nimport Col from 'reactstrap/lib/Col';\nimport { appConfig } from '../../config/appConfig';\nimport { getLocationOrigin } from '../../services/API/fetchTools';\nimport userInfoMock from '../../mock/userInfo.json';\nimport { AuthContextProps } from '../../contexts/auth/consumerHOC';\n\n// #region types\ntype Props = {} & RouteComponentProps & AuthContextProps;\n// #endregion\n\n// #region constants\nasync function logUser(\n  login: string = '',\n  password: string = '',\n): Promise<any> {\n  const __SOME_LOGIN_API__ = 'login';\n  const url = `${getLocationOrigin()}/${__SOME_LOGIN_API__}`;\n  const method = 'post';\n  const headers = {};\n  const options = {\n    credentials: 'same-origin',\n    data: {\n      login,\n      password,\n    },\n  };\n\n  if (appConfig.DEV_MODE) {\n    return new Promise(resolve =>\n      setTimeout(() => resolve({ data: userInfoMock }), 3000),\n    );\n  }\n\n  try {\n    const response = await axios.request({\n      method,\n      url,\n      withCredentials: true,\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n        'Acces-Control-Allow-Origin': '*',\n        ...headers,\n      },\n      ...options,\n    });\n\n    return response && response.data;\n  } catch (error) {\n    throw error;\n  }\n}\n// #endregion\n\nfunction Login({ history, disconnectUser, setToken, setUserInfo }: Props) {\n  const [email, setEmail] = useState<string>('');\n  const [password, setPassword] = useState<string>('');\n  const [isLogging, setIsLogging] = useState<boolean>(false);\n\n  // #region on mount\n  useEffect(() => {\n    disconnectUser(); // diconnect user: remove token and user info\n  }, []);\n  // #endregion\n\n  // #region callbacks\n  const handlesOnEmailChange = useCallback(\n    (event: React.ChangeEvent<HTMLInputElement>) => {\n      event && event.preventDefault();\n      setEmail((event && event.target.value.trim()) || '');\n    },\n    [],\n  );\n\n  const handlesOnPasswordChange = useCallback(\n    (event: React.ChangeEvent<HTMLInputElement>) => {\n      event && event.preventDefault();\n      setPassword((event && event.target.value.trim()) || '');\n    },\n    [],\n  );\n\n  const handlesOnLogin = useCallback(\n    async (event: React.MouseEvent<HTMLInputElement>) => {\n      event && event.preventDefault();\n\n      try {\n        setIsLogging(true);\n        const response = await logUser(email, password);\n        const {\n          data: { token, user },\n        } = response;\n\n        setToken(token);\n        setUserInfo(user);\n        setIsLogging(false);\n\n        history.push({ pathname: '/' }); // back to Home\n      } catch (error) {\n        setIsLogging(false);\n        /* eslint-disable no-console */\n        console.log('login went wrong..., error: ', error);\n        /* eslint-enable no-console */\n        throw error;\n      }\n    },\n    [email, password],\n  );\n\n  const goHome = useCallback((event: React.MouseEvent<HTMLInputElement>) => {\n    event && event.preventDefault();\n    history.push({ pathname: '/' });\n  }, []);\n  // #endregion\n\n  return (\n    <div className=\"content\">\n      <Row>\n        <Col md={{ size: 4, offset: 4 }} xs={{ size: 10, offset: 1 }}>\n          <form className=\"form-horizontal\" noValidate>\n            <fieldset>\n              <legend>Login</legend>\n\n              <div className=\"form-group\">\n                <label htmlFor=\"inputEmail\" className=\"col-lg-2 control-label\">\n                  Email\n                </label>\n                <Col lg={12}>\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    id=\"inputEmail\"\n                    placeholder=\"Email\"\n                    autoComplete=\"username email\"\n                    value={email}\n                    onChange={handlesOnEmailChange}\n                  />\n                </Col>\n              </div>\n\n              <div className=\"form-group\">\n                <label\n                  htmlFor=\"inputPassword\"\n                  className=\"col-lg-2 control-label\"\n                >\n                  Password\n                </label>\n                <Col lg={12}>\n                  <input\n                    type=\"password\"\n                    className=\"form-control\"\n                    id=\"inputPassword\"\n                    placeholder=\"Password\"\n                    autoComplete=\"current-password\"\n                    value={password}\n                    onChange={handlesOnPasswordChange}\n                  />\n                </Col>\n              </div>\n\n              <div className=\"form-group\">\n                <Col lg={{ size: 12 }}>\n                  <Button\n                    className=\"login-button btn-block\"\n                    color=\"primary\"\n                    disabled={isLogging}\n                    onClick={handlesOnLogin}\n                  >\n                    {isLogging ? (\n                      <span>\n                        login in... &nbsp;\n                        <i className=\"fa fa-spinner fa-pulse fa-fw\" />\n                      </span>\n                    ) : (\n                      <span>Login</span>\n                    )}\n                  </Button>\n                </Col>\n              </div>\n            </fieldset>\n          </form>\n        </Col>\n      </Row>\n      <Row>\n        <Col md={{ size: 4, offset: 4 }} xs={{ size: 10, offset: 1 }}>\n          <div className=\"pull-right\">\n            <Button className=\"btn-block\" onClick={goHome}>\n              back to home\n            </Button>\n          </div>\n        </Col>\n      </Row>\n    </div>\n  );\n}\n\nLogin.displayName = 'Login';\n\nexport default Login;\n","// #region imports\nimport { compose } from 'redux';\nimport withEnterAnimation from '../../hoc/withEnterAnimation';\nimport withAuth from '../../contexts/auth/consumerHOC';\nimport Login from './Login';\n// #endregion\n\nexport default compose(\n  withEnterAnimation(/* no option yet */),\n  withAuth(),\n)(Login);\n","// #region imports\nimport { Base64 } from 'js-base64';\n// #endregion\n\n// #region  window.location.origin polyfill\nexport const getLocationOrigin = (): string => {\n  if (!window.location.origin) {\n    (window as any).location.origin = `${window.location.protocol}//${\n      window.location.hostname\n    }${window.location.port ? ':' + window.location.port : ''}`;\n  }\n  return window.location.origin;\n};\n// #endregion\n\n// #region query options:\nexport const getMethod = {\n  method: 'get',\n};\n\nexport const postMethod = {\n  method: 'post',\n};\n\nexport const defaultOptions = {\n  credentials: 'same-origin',\n};\n\nexport const jsonHeader = {\n  headers: {\n    Accept: 'application/json',\n    'Content-Type': 'application/json',\n    // 'Access-control-Allow-Origin': '*'\n  },\n};\n// #endregion\n\n// #region general helpers\nexport const encodeBase64 = (stringToEncode: string = ''): string => {\n  return Base64.encode(stringToEncode);\n};\n// #endregion\n"],"sourceRoot":""}